var pe=Object.defineProperty,de=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var G=(e,s,o)=>s in e?pe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,D=(e,s)=>{for(var o in s||(s={}))ge.call(s,o)&&G(e,o,s[o]);if(K)for(var o of K(s))we.call(s,o)&&G(e,o,s[o]);return e},V=(e,s)=>de(e,fe(s));var J=(e,s,o)=>new Promise((c,i)=>{var p=l=>{try{r(o.next(l))}catch(u){i(u)}},t=l=>{try{r(o.throw(l))}catch(u){i(u)}},r=l=>l.done?c(l.value):Promise.resolve(l.value).then(p,t);r((o=o.apply(e,s)).next())});import{b as Z,a as A,_ as E,az as he,p as H,S as me,ae as ye,aw as Q,ac as De,r as x,ah as Ce,av as ee,ad as ve}from"./index.3caf0d97.js";import{B as z,j as w,a1 as C,D as f,F as B,ab as ke,a7 as g,a2 as S,a6 as h,ae as R,K as T,a5 as _,ad as P,L as k,Y as te,bV as be,J as Y,w as N,b9 as $e,r as v,T as U,u as a,t as b,a0 as oe,b8 as Be,aD as W,G as Pe,ap as Se,aC as Te,aR as _e,ai as O,Q as se,bK as Oe,am as Fe}from"./vendor.bf608252.js";/* empty css               */const{t:X}=Z(),re={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:X("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:X("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},Le=D({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},re);const Ve=z({name:"BasicDrawerFooter",props:V(D({},re),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(e,{emit:s}){const{prefixCls:o}=A("basic-drawer-footer"),c=w(()=>{const t=`${e.height}`;return{height:t,lineHeight:t}});function i(){s("ok")}function p(){s("close")}return{handleOk:i,prefixCls:o,handleClose:p,getStyle:c}}});function He(e,s,o,c,i,p){const t=C("a-button");return e.showFooter||e.$slots.footer?(f(),B("div",{key:0,class:k(e.prefixCls),style:te(e.getStyle)},[e.$slots.footer?g(e.$slots,"footer",{key:1}):(f(),B(ke,{key:0},[g(e.$slots,"insertFooter"),e.showCancelBtn?(f(),S(t,_({key:0},e.cancelButtonProps,{onClick:e.handleClose,class:"mr-2"}),{default:h(()=>[R(T(e.cancelText),1)]),_:1},16,["onClick"])):P("",!0),g(e.$slots,"centerFooter"),e.showOkBtn?(f(),S(t,_({key:1,type:e.okType,onClick:e.handleOk},e.okButtonProps,{class:"mr-2",loading:e.confirmLoading}),{default:h(()=>[R(T(e.okText),1)]),_:1},16,["type","onClick","loading"])):P("",!0),g(e.$slots,"appendFooter")],64))],6)):P("",!0)}var Re=E(Ve,[["render",He]]);const Ne=z({name:"BasicDrawerHeader",components:{BasicTitle:he,ArrowLeftOutlined:be},props:{isDetail:H.bool,showDetailBack:H.bool,title:H.string},emits:["close"],setup(e,{emit:s}){const{prefixCls:o}=A("basic-drawer-header");function c(){s("close")}return{prefixCls:o,handleClose:c}}}),je={key:1};function Ae(e,s,o,c,i,p){const t=C("BasicTitle"),r=C("ArrowLeftOutlined");return e.isDetail?(f(),B("div",{key:1,class:k([e.prefixCls,`${e.prefixCls}--detail`])},[Y("span",{class:k(`${e.prefixCls}__twrap`)},[e.showDetailBack?(f(),B("span",{key:0,onClick:s[0]||(s[0]=(...l)=>e.handleClose&&e.handleClose(...l))},[N(r,{class:k(`${e.prefixCls}__back`)},null,8,["class"])])):P("",!0),e.title?(f(),B("span",je,T(e.title),1)):P("",!0)],2),Y("span",{class:k(`${e.prefixCls}__toolbar`)},[g(e.$slots,"titleToolbar")],2)],2)):(f(),S(t,{key:0,class:k(e.prefixCls)},{default:h(()=>[g(e.$slots,"title"),R(" "+T(e.$slots.title?"":e.title),1)]),_:3},8,["class"]))}var Ee=E(Ne,[["render",Ae]]);const ze=z({components:{Drawer:$e,ScrollContainer:me,DrawerFooter:Re,DrawerHeader:Ee},inheritAttrs:!1,props:Le,emits:["visible-change","ok","close","register"],setup(e,{emit:s}){const o=v(!1),c=ye(),i=v(null),{t:p}=Z(),{prefixVar:t,prefixCls:r}=A("basic-drawer"),l={setDrawerProps:le,emitVisible:void 0},u=O();u&&s("register",l,u.uid);const y=w(()=>Q(b(e),a(i))),m=w(()=>{const n=V(D(D({placement:"right"},a(c)),a(y)),{visible:a(o)});n.title=void 0;const{isDetail:d,width:L,wrapClassName:M,getContainer:ue}=n;if(d){L||(n.width="100%");const q=`${r}__detail`;n.class=M?`${M} ${q}`:q,ue||(n.getContainer=`.${t}-layout-content`)}return n}),F=w(()=>D(D({},c),a(m))),I=w(()=>{const{footerHeight:n,showFooter:d}=a(m);return d&&n?De(n)?`${n}px`:`${n.replace("px","")}px`:"0px"}),ne=w(()=>{const n=a(I);return{position:"relative",height:`calc(100% - ${n})`}}),ae=w(()=>{var n;return!!((n=a(m))==null?void 0:n.loading)});U(()=>e.visible,(n,d)=>{n!==d&&(o.value=n)},{deep:!0}),U(()=>o.value,n=>{oe(()=>{var d;s("visible-change",n),u&&((d=l.emitVisible)==null||d.call(l,n,u.uid))})});function ie(n){return J(this,null,function*(){const{closeFunc:d}=a(m);if(s("close",n),d&&x(d)){const L=yield d();o.value=!L;return}o.value=!1})}function le(n){i.value=Q(a(i)||{},n),Reflect.has(n,"visible")&&(o.value=!!n.visible)}function ce(){s("ok")}return{onClose:ie,t:p,prefixCls:r,getMergeProps:y,getScrollContentStyle:ne,getProps:m,getLoading:ae,getBindValues:F,getFooterHeight:I,handleOk:ce}}});function Ie(e,s,o,c,i,p){const t=C("DrawerHeader"),r=C("ScrollContainer"),l=C("DrawerFooter"),u=C("Drawer"),y=Be("loading");return f(),S(u,_({class:e.prefixCls,onClose:e.onClose},e.getBindValues),W({default:h(()=>[Pe((f(),S(r,{style:te(e.getScrollContentStyle),"loading-tip":e.loadingText||e.t("common.loadingText")},{default:h(()=>[g(e.$slots,"default")]),_:3},8,["style","loading-tip"])),[[y,e.getLoading]]),N(l,_(e.getProps,{onClose:e.onClose,onOk:e.handleOk,height:e.getFooterHeight}),W({_:2},[Se(Object.keys(e.$slots),m=>({name:m,fn:h(F=>[g(e.$slots,m,Te(_e(F||{})))])}))]),1040,["onClose","onOk","height"])]),_:2},[e.$slots.title?{name:"title",fn:h(()=>[g(e.$slots,"title")])}:{name:"title",fn:h(()=>[N(t,{title:e.getMergeProps.title,isDetail:e.isDetail,showDetailBack:e.showDetailBack,onClose:e.onClose},{titleToolbar:h(()=>[g(e.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack","onClose"])])}]),1040,["class","onClose"])}var Me=E(ze,[["render",Ie]]);const $=se({}),j=se({});function Qe(){if(!O())throw new Error("useDrawer() can only be used inside setup() or functional components!");const e=v(null),s=v(!1),o=v("");function c(t,r){a(s)&&Ce()&&t===a(e)||(o.value=r,e.value=t,s.value=!0,t.emitVisible=(l,u)=>{j[u]=l})}const i=()=>{const t=a(e);return t||ee("useDrawer instance is undefined!"),t},p={setDrawerProps:t=>{var r;(r=i())==null||r.setDrawerProps(t)},getVisible:w(()=>j[~~a(o)]),openDrawer:(t=!0,r,l=!0)=>{var y;if((y=i())==null||y.setDrawerProps({visible:t}),!r)return;if(l){$[a(o)]=null,$[a(o)]=b(r);return}Oe(b($[a(o)]),b(r))||($[a(o)]=b(r))},closeDrawer:()=>{var t;(t=i())==null||t.setDrawerProps({visible:!1})}};return[c,p]}const Ye=e=>{const s=v(null),o=O(),c=v("");if(!O())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const i=()=>{const t=a(s);if(!t){ee("useDrawerInner instance is undefined!");return}return t},p=(t,r)=>{c.value=r,s.value=t,o==null||o.emit("register",t,r)};return Fe(()=>{const t=$[a(c)];!t||!e||!x(e)||oe(()=>{e(t)})}),[p,{changeLoading:(t=!0)=>{var r;(r=i())==null||r.setDrawerProps({loading:t})},changeOkLoading:(t=!0)=>{var r;(r=i())==null||r.setDrawerProps({confirmLoading:t})},getVisible:w(()=>j[~~a(c)]),closeDrawer:()=>{var t;(t=i())==null||t.setDrawerProps({visible:!1})},setDrawerProps:t=>{var r;(r=i())==null||r.setDrawerProps(t)}}]},Ue=ve(Me);export{Ue as B,Ye as a,Qe as u};
